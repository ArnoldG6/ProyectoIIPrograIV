<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Book a Movie</title>
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link rel="stylesheet" type="text/css" href="css/estilo.css">
    </head>
    <body>
        <div>
            <div>NGC Cinema</div>
        </div>
        <div class="movie-container">
            <label style="font-size: 1em;">Seleccione una Pel√≠cula:</label>
            <select id="movie">
                <option value="10">Shrek Tico ($10)</option>
                <option value="12">UXIONO ($12)</option>
                <option value="8">Capitao Whatsapp ($8)</option>
            </select>
        </div>

        <ul class="showcase">
            <li>
                <div id="seat" class="seat"></div>
                <small class="status" style="font-size: 1em;">N/A</small>
            </li>
            <li>
                <div id="seat" class="seat selected"></div>
                <small class="status" style="font-size: 1em;">Seleccionado</small>
            </li>
            <li>
                <div id="seat" class="seat occupied"></div>
                <small class="status" style="font-size: 1em;">Ocupado</small>
            </li>
        </ul>

        <div class="container">
            <div class="screen"></div>

            <div class="row">
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
            </div>
            <div class="row">
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat occupied"></div>
                <div id="seat" class="seat occupied"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
            </div>
            <div class="row">
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat occupied"></div>
                <div id="seat" class="seat occupied"></div>
            </div>
            <div class="row">
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
            </div>
            <div class="row">
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat occupied"></div>
                <div id="seat" class="seat occupied"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
            </div>
            <div class="row">
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat"></div>
                <div id="seat" class="seat occupied"></div>
                <div id="seat" class="seat occupied"></div>
                <div id="seat" class="seat occupied"></div>
                <div id="seat" class="seat"></div>
            </div>
        </div>

        <p class="text" style="font-size: 1em;margin:0px 0px 15px 0px">
            Se han seleccionado <span id="count">0</span> butacas con total: $<span id="total">0</span>
        </p>

        <a href="./index.html">
            <button class="btn btn-primary btn-lg btn-block">
                Home
            </button>
        </a>

        <script>

            var count = 0;
            var seats = document.getElementsByClassName("seat");
            for (var i = 0; i < seats.length; i++) {
                var item = seats[i];

                item.addEventListener("click", (event) => {
                    var price = document.getElementById("movie").value;

                    if (!event.target.classList.contains('occupied') && !event.target.classList.contains('selected')) {
                        count++;

                        var total = count * price;
                        event.target.classList.add("selected");
                        document.getElementById("count").innerText = count;
                        document.getElementById("total").innerText = total;

                    }
                })
            }
        </script>

    </body>
</html>
